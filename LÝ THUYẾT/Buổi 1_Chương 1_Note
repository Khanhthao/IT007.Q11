CHƯƠNG I: TỔNG QUAN VỀ HỆ ĐIỀU HÀNH
I. Tổng quan về hệ điều hành: 
1.1. Tổng quan:
- Một số hệ điều hành thường gặp: Android (Smartphone, Tablet, TV), Windows (version mới nhất là Windows 11), ios (dành cho các thiết bị di động), masOS (máy tính Apple), Linux,...
- Hệ điều hành là chương trình trung gian giữa phần cứng máy tính và người sử dụng, có chức năng điều khiển và phối hợp việc sử dụng phần cứng và cung cấp các dịch vụ cơ bản cho các ứng dụng.
- Mục tiêu của hệ điều hành:
+ Giúp người dùng dễ dàng sử dụng hệ thống.
+ Quản lý và cấp phát tài nguyên hệ thống một cách hiệu quả.
1.2. Cấu trúc hệ thống máy tính:
- Cấu trúc hệ thống gồm 4 phần: user, application program, operating program, computer hardwware.
+ Phần cứng (hardware): Bao gồm các tài nguyên cơ bản của máy tính như CPU, bộ nhớ, các thiết bị I/O. Hardware bao gồm: Physical device, Microprogramming, Machine language.
+ Hệ điều hành là một phần của system programs: operating system, compilers, editors, và operating system.
+ Hệ điều hành: Phân phối tài nguyên, điều khiển và phối hợp các hoạt động của các chương trình trong hệ thống. 
+ Chương trình ứng dụng (application programs): Sử dụng hệ thống tài nguyên để giải quyết một bài toán tính toán nào đó của người sử dụng. Ví dụ: compilers, database systems, video games, business programs,...
+ User: không chỉ là người dùng, có thể là máy tính khác đang tương tác với máy tính.
1.3. Sự cần thiết của hệ điều hành:
- Quản lý phần cứng máy tính.
- Cung cấp giao diện của người dùng.
- Là nơi để người dùng cài đặt các chương trình ứng dụng.
- Kết nối các thiết bị phần cứng với nhau.
- Tương tác giữa các chương trình với nhau và với phần cứng.
1.4. Bên trong hệ điều hành:
- Chương trình duy nhất luôn chạy tại tất cả các thời điểm máy tính hoạt động là nhân/hạt nhân (kernel).
- Đi kèm với nhân còn có 2 loại chương trình:
+ Chương trình hệ thống (system program): được đóng gói cùng với hệ điều hành nhưng không phải là một phần của nhân.
+ Chương trình ứng dụng: tất cả các chương trình không có liên kết (associate) với hoạt động của hệ thống.
- Ngày nay, một số hệ điều hành còn chứa middleware - một tập các khung/nền tảng phần mềm (software framework) cung cấp các dịch vụ bổ sung hỗ trợ cho các nhà phát triển ứng dụng như cơ sở đữ liệu đa phương tiện, đồ họa,...
----QUIZ---
1. Chọn đáp án đúng trong các đáp án sau để điền vào chỗ trống trong định nghĩa về hệ điều hành. "Hệ điều hành là chương trình trung gian giữa ... và người sử dụng".
Answer key: Phần cứng máy tính.
2. Mục đích chính của hệ điều hành là gì?
+ Quản lý và cấp phát tài nguyên hệ thống một cách hiệu quả.
+ Giúp người dùng dễ dàng sử dụng hệ thống.
3. Bộ phận nào KHÔNG phải là một thành phần chính trong cấu trúc hệ thống máy tính?
Answer key: Màn hình.
II. Hoạt động bên trong máy tính:
- Một máy tính hiện nay gồm CPU (một hoặc nhiều) và các trình điều khiển thiết bị (device controller) kết nối với nhau thông qua bus để truy xuất bộ nhớ chia sẻ (shared memory).
- Ví dụ: disk controller: giao tiếp giữa ổ đĩa với CPU, hoặc các thành phần khác thông qua system bus; USB controller: giao tiếp giữa chuột, bàn phím, máy in,... và graphics adapter ra màn hình máy tính.
- Các trình điều khiển thiết bị sẽ kết nối với nhau qua bus hệ thống để truy xuất đến memory chung này.
- Các thiết bị nhập/xuất (I/O) và CPU có thể thực thi đồng thời (concurrently).
- Mỗi trình điều khiển thiết bị chịu trách nhiệm một loại thiết bị cụ thể, có một bộ đệm (buffer) cục bộ (local).
- Mỗi loại trình điều khiển thiết bị có một device driver tương ứng của hệ điều hành để quản lý nó.
2.1. Ngắt (Interrupts):
- Đặc điểm cơ bản của ngắt:
+ Ngắt chuyển điều khiển đến interrupt service routine thông qua interrupt vector (chứa địa chỉ của tất cả các service routine).
+ Kiến trúc ngắt phải lưu địa chỉ của lệnh phát sinh ngắt.
+ Ngắt được tạo ra bởi phần mềm do một lỗi (error) hoặc do một yêu cầu của người dùng (user request) được gọi là trap hoặc exception.
+ Hệ điều hành hoạt động hướng theo ngắt (interrupt driven).
- Qúa trình phát sinh và xử lý ngắt:
Khi có 1 input/output request, nó sẽ thực thi cái mode là transfering, là di chuyển dữ liệu. Khi mà việc di chuyển dữ liệu xong, thì tạo ra 1 interrupt signal, báo tới CPU và CPU ngưng việc thực thi chương trình hiện tại và sẽ chạy tới chương trình phục vụ cái app đó. Và nó chuyển cái mode interrupt hangle, thực thi cái ngắt.
- Quy trình xử lý ngắt:
+ Hệ điều hành lưu giữ trạng thái của CPU bằng cách lưu thanh ghi và bộ đếm chương trình.
+ Xác định loại ngắt đã xảy ra.
+ Thực thi mã xử lý tương ứng với từng loại ngắt.
- Khi CPU đang chạy, nó có 1 break khởi tạo, thì sau đó nó khởi tạo input/output tương ứng với cái break đó. Khi cái hoạt động output/input xảy ra (khi input ready, output hoàn thành hoặc có 1 cái lỗi gì đó xảy ra trong quá trình đó) sẽ tạo ra 1 interrupt signal thì trong quá trình I/O hoạt động thì CPU thực thi kiểm tra interrupt giữa các lệnh và khi mà CPU nhận được interrupt thì nó sẽ chuyển quyền điều khiển tới interrupt handler. Sau đó thì interrupt handler sẽ xử lý dữ liệu liên quan tới ngắt, sau đó thì CPU resume lại công việc trước khi ngắt xảy ra.
